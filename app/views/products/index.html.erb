<p id="notice"><%= notice %></p>

<!--- Dropdown Menues --->
<div class="container">
	<div class="d-flex flex-row-reverse">


		<!--- Dropdown Menue fuer Produktanordnung --->
		<div class="p-2">
		</div>
		<div class="p-2">
		</div>
		<div class="p-2">
		</div>
		<!--- Search Bar --->
		<div class="p-2">
			<%= form_tag(search_path, :method => "get") do %>
				<div class="input-group">
					<%= search_field_tag :search, params[:search], placeholder: "Search", class: "form-control" %>
					<div class="input-group-btn">
						<%= button_tag "go", :class => 'btn btn-info', :name => nil %>
					</div>
				</div>
			<% end %>
		</div>
		<div class="p-2">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false">
					<%= @label_o %>
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<%= link_to "Alt bis neu", filter_path(order_scope: :OLD_TO_NEW, filter_scope: @filter_scope), class: "dropdown-item" %>
					<%= link_to "Neuste zuerst", filter_path(order_scope: :NEW_TO_OLD, filter_scope: @filter_scope), class: "dropdown-item" %>
					<%= link_to "Preis absteigend", filter_path(order_scope: :HIGH_TO_LOW, filter_scope: @filter_scope), class: "dropdown-item" %>
					<%= link_to "Preis aufsteigend", filter_path(order_scope: :LOW_TO_HIGH, filter_scope: @filter_scope), class: "dropdown-item" %>
					<%= link_to "Alphabetisch", filter_path(order_scope: :ALPHABETIC, filter_scope: @filter_scope), class: "dropdown-item" %>
				</div>
			</div>
		</div>
		<!--- Dropdown Menue fuer Produktfilter --->
		<div class="p-2">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false">
					<%= @label_f %>
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<%= link_to "Alle", filter_path(filter_scope: :ALL_CLOTHES, order_scope: @order_scope), class: "dropdown-item" %>
					<%= link_to "T-Shirts", filter_path(filter_scope: :T_SHIRTS, order_scope: @order_scope), class: "dropdown-item" %>
					<%= link_to "Pullover", filter_path(filter_scope: :PULLOVER, order_scope: @order_scope), class: "dropdown-item" %>
				</div>
			</div>
		</div>
	</div>

	<!-- Aussen Container -->
	<div class="container">
		<% i = 0 %>
		<!--- Produkte angeordnet ---->
		<% @products.each do |product| %>
			<% if i == 0 %>
				<!-- Reihen-Container -->
				<div class="row row_edit">
			<% end %>
			<!-- Product-Container outter -->
			<div class="col-md-4 col-md-4_edit">
				<!-- Product-Container inner -->
				<div class="inner">
					<!-- Link zu Show Seite -->
					<%= link_to product, class: "item_link" do %>
						<!-- Product-Name -->
						<h2><%= product.name %></h2>
						<br>
						<!-- Product-Picture -->
						<%= image_tag(product.picture, class: "product_picture") %>
					<% end %>
					<br>
					<br>
					<dl class="dl-horizontal dl-horizontal_edit">
						<!-- Preis -->
						<dt>Preis:</dt>
						<dd><%= product.price %> €</dd>
						<!-- Typ -->
						<dt>Typ:</dt>
						<dd><%= product.cloth_type %></dd>
						<!-- Bechreibung -->
						<dt>Beschreibung:</dt>
						<dd><%= product.description %></dd>
					</dl>
					<br>
					<div style="text-align: center;">
						<!--- cart.add verlinken --->
						<i class="fas fa-cart-plus fa-4x"></i>
						<!--- watchlist.add verlinken --->
						<i class="fas fa-clock fa-4x"></i>
						<br>
						<br>
						<!-- Edit für Admin -->
						<% if current_user && current_user.has_role?(:admin) %>
							<%= link_to edit_product_path(product), class: "item_link" do %>
								<i class="fas fa-edit fa-2x"></i>
							<% end %>
						<% end %>

						<!-- Delete für Admin-->
						<% if current_user && current_user.has_role?(:admin) %>
							<%= link_to product, class: "item_link", method: :delete, data: {confirm: 'Are you sure?'} do %>
								<i class="fas fa-trash fa-2x"></i>
							<% end %>
						<% end %>
						<br>
						<br>
					</div>
				</div>
			</div>
			<% if i == 2 %>
				<% i = 0 %>
				</div>
			<% else %>
				<% i = i + 1 %>
			<% end %>
		<% end %>
		<% if i != 3 %>
			</div>
		<% end %>
		<!--- Neues Produkt für Admin--->
		<% if current_user && current_user.has_role?(:admin) %>
			<div class="container-fluid container-fluid_edit">
				<%= link_to new_product_path, class: "item_link" do %>
					<i class="fas fa-plus fa-4x"></i>
				<% end %>
		<% end %>
		</div>
		<br>
		<br>
		</div>
